wget https://ftp.exim.org/pub/exim/exim4/old/exim-4.88.tar.gz
tar -xzvf exim-4.88.tar.gz
cd exim-4.88


sudo apt update
sudo apt install build-essential libssl-dev libpcre3-dev -y
sudo apt-get install libdb-dev -y
sudo apt-get install libx11-dev libxt-dev -y
sudo apt-get install libxaw7-dev -y
sudo apt-get install libgdbm-dev -y
sudo apt-get install pkg-config libssl-dev -y


groupadd -g 31 exim &&
useradd -d /dev/null -c "Exim Daemon" -g exim -s /bin/false -u 31 exim

sed -e 's,^BIN_DIR.*$,BIN_DIRECTORY=/usr/sbin,'    \
    -e 's,^CONF.*$,CONFIGURE_FILE=/etc/exim.conf,' \
    -e 's,^EXIM_USER.*$,EXIM_USER=exim,'           \
    -e '/SUPPORT_TLS/s,^#,,'                       \
    -e '/USE_OPENSSL/s,^#,,'                       \
    -e 's,^EXIM_MONITOR,#EXIM_MONITOR,' src/EDITME > Local/Makefile &&
printf "USE_GDBM = yes\nDBMLIB = -lgdbm\n" >> Local/Makefile &&
make
